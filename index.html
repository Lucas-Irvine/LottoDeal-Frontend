<!DOCTYPE html>
<html lang="en" ng-app="index_app">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>LottoDeal</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/main.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->



    <!-- why are these at the top and not at the bottom -->
    <!-- AngularJS Include -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.min.js"></script>

    <!-- Angular route -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular-route.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:700" rel="stylesheet">   
    <link href="https://fonts.googleapis.com/css?family=Alegreya+Sans+SC:700" rel="stylesheet">
</head>

    <body ng-controller="indexController" ng-cloak> <!-- hides until content loads -->

        <!-- Navigation -->
        <nav id = "navbar-unique" class="navbar navbar-fixed-top row" role="navigation">
            <div class="container">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <a class="navbar-brand" href="index.html">Home</a>
                </div>
              <!-- Collect the nav links, forms, and other content for toggling -->
              <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                            <form class="navbar-form" role="search" method="get" id="search-form" name="search-form">
                                <div class="btn-group pull-left" style="margin-right:10px; min-width: 100%;">

                                    <div class="input-group">
                                        <input type="text" class="form-control" placeholder="Search for Lotteries!" id="query" name="query" ng-model="searchText.title" value="">
                                        <div class="input-group-btn">
                                            <button type="submit" class="btn btn-success search-btn"><span class="glyphicon glyphicon-search"></span></button>
                                        </div>
                                    </div>
                                </div>
                            </form>
                    </li>
                    <li>
                        <a id = "sell"  class="sliding-middle-out" href="sell.html">Sell</a>
                    </li>
                    <li id="notification_li">
                        <a href="#" id="notifications" class="sliding-middle-out" >Notifications &nbsp; &nbsp; <span id="notification_count">{{notifications.length}}</span>
                        </a>

                        <div id="notificationContainer">
                            <div id="notificationTitle"> Notifications
                            </div>
                            <div id="notificationsBody" class="notifications">
                                <div ng-repeat="notification in notifications">
                                <h4 class="item-title">{{notification.title}}</h4>
                                <p class="item-info">{{notification.description}}</p>
                                </div>
                            </div>
                            <div id="notificationFooter"><a href="#">See All</a>
                            </div>
                        </div>

                    </li>
                    <li>
                        <a id = "profile" class="sliding-middle-out" href="profile.html">Account</a>
                    </li>
                    <li>
                        <a id = "login" class="sliding-middle-out" style="cursor: pointer;" onclick = "fbLogin()" >Login</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Half Page Image Background Carousel Header -->
    <header id="myCarousel" class="carousel slide">
        <!-- Indicators -->
        <ol class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
            <li data-target="#myCarousel" data-slide-to="2"></li>
        </ol>

        <!-- Wrapper for Slides -->
        <div class="carousel-inner">
            <div class="item active">
                <!-- Set the first background image using inline CSS below. -->
                <div class="fill" style="background-image:url('img/banner.jpg');"></div>
                <div class="carousel-caption">
                    <h2>Caption 1</h2>
                </div>
            </div>
            <div class="item">
                <!-- Set the second background image using inline CSS below. -->
                <div class="fill" style="background-image:url('img/Win1.png');"></div>
                <div class="carousel-caption">
                    <h2>Caption 2</h2>
                </div>
            </div>
            <div class="item">
                <!-- Set the third background image using inline CSS below. -->
                <div class="fill" style="background-image:url('img/Winbig.png');"></div>
                <div class="carousel-caption">
                    <h2>Caption 3</h2>
                </div>
            </div>
        </div>

        <!-- Controls -->
        <a class="left carousel-control" href="#myCarousel" data-slide="prev">
            <span class="icon-prev"></span>
        </a>
        <a class="right carousel-control" href="#myCarousel" data-slide="next">
            <span class="icon-next"></span>
        </a>

    </header>

    <!-- Page Content -->
    <div class="container content">

        <div class="col-md-12">

            <!-- comment -->
            <div class="row">
                <br>
                <div ng-repeat="post in posts | filter:searchText">
                    <div class="col-sm-4">
                        <div class="thumbnail" id="item">
                            <div class="image-item img-fluid">
                            <a href="item.html#!/?id={{post._id}}">
                                <img ng-src="{{post.src}}" class="img-hover img-fluid" id="centered-and-cropped" alt="">
                            </a>
                            </div>
                            <div class="caption">
                                <p class="pull-right" id="amountRaised-{{post._id}}">${{post.amountRaised}} of ${{post.price}} raised</p>
                                <p style="text-decoration-line: bold;"><a href="item.html#!/?id={{post._id}}">{{post.title}}</a>
                                </p>
                                <div class="progress" id="thumbnail-bar">
                                    <div class="progress-bar progress-bar-success progress-bar-striped" id="progress-bar-{{post._id}}" role="progressbar" aria-valuenow="40"
                                         aria-valuemin="0" aria-valuemax="100" style="width:{{post.percentageRaised}}%">
                                    </div>
                                </div>
                                <p> {{post.expirationDate}} </p>
                                <div class="description-container rows">
                                    <p class="description">
                                        {{post.shortDescription}}
                                    </p>
                                </div>
                            </div>
                            <div class="row bid-buttons">
                                <button type="button" class="btn btn-success btn-sm" buttonType="bidButton" ng-click="bid(post._id, 1, post.amountRaised, post.price, post.title);" id="{{post._id}}">$1.00</button>
                                <button type="button" class="btn btn-success btn-sm" buttonType="bidButton" ng-click="bid(post._id, 2, post.amountRaised, post.price, post.title);" id="{{post._id}}">$2.00</button>
                                <button type="button" class="btn btn-success btn-sm" buttonType="bidButton" ng-click="bid(post._id, 5, post.amountRaised, post.price, post.title);" id="{{post._id}}">$5.00</button>
                            </div>
                            <div class="ratings">

                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    Seller Rating: {{accounts[$index].averageRating}} / 5
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <a href="user.html#!/?id={{post.sellerID}}">Seller: {{post.sellerName}}</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    <img src="squares.gif" id="loading-icon" class="loading-icon" style="display:none"/>

    <!-- <div ng-view></div> -->

</div>

<!-- Facebook Login code -->
<div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"
    id="loginPopup">
    <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
           <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
          </button>
          <h4 class="modal-title" id="exampleModalLabel">
            Please Login
        </h4>
    </div>
    <div class="modal-body">
        <p>
            By continuing, I agree that I am at least 13 years old and have read and agree to the terms of service and privacy policy.
        </p>
        <center><button type="button" class="facebook-button" id="loginToFacebook">
            Login With Facebook
        </button> </center>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
    </div>
</div>
</div>
</div>
<!-- End Facebook Login code -->



<!-- Footer -->
<footer>
    <hr>
    <div class="rows">
      <div class="col-lg-3">
        <a href="contact.html" class="footerlink">Contact Us</a>
      </div>
      <div class="col-lg-3">
        <a href="about.html" class="footerlink">About Us</a>
      </div>
        <div class="col-lg-6">
            <p>Copyright &copy; LottoDeal 2017</p>
            </div>
    </div>
</footer>

<!-- jQuery -->
<script src="js/jquery.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="js/bootstrap.min.js"></script>

<!-- Custom script -->
<script src="./js/index.js"></script>

<!-- dynamic loading of pages -->
<script src="js/tabs.js"></script>
<script src="https://checkout.stripe.com/checkout.js"></script>
<!-- <script src="js/facebooklogin.js"></script>
 --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap3-dialog/1.34.7/css/bootstrap-dialog.min.css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap3-dialog/1.34.7/js/bootstrap-dialog.min.js"></script>
</body>

</html>
